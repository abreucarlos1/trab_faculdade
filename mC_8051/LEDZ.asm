;UNIVERSIDADE BRAZ CUBAS
;MICROPROCESSADORES / RICARDO TEIXEIRA
;RGM'S: 123748, 126749, 155003
;PROGRAMA PARA TESTE COM LED'S
;TECLA 0 APAGA TODOS OS LED'S
;TECLA 1 ACENDE TODOS OS LED'S
;TECLA 2 ACENDE OS LED'S 1 E 3
;TECLA 3 ACENDE OS LED'S 2 E 4

P1      DATA    090H
KPD     EQU     0FFF4H
P3_2    BIT     0B2H
P1_4    BIT     094H
P1_5    BIT     095H
P1_6    BIT     096H
P1_7    BIT     097H
INT0    BIT     0A8H

ORG     7000H

CLR INT0
MOV DPTR, #KPD
L2: JB P3_2, $
L1: ORL P1, #0FH
MOVX A, @DPTR
JZ L1
MOV R0, A
SUBB A, #04H
JZ L3
MOV A, R0
SUBB A, #08H
JZ L4
MOV A, R0
SUBB A, #0CH
JZ L5
SJMP XX
L3: CLR P1_4
CLR P1_5
CLR P1_6
CLR P1_7
SJMP L2
L4: CLR P1_4
CLR P1_6
SJMP L2
L5: CLR P1_5
CLR P1_6
SJMP L2
XX: RET
    END
